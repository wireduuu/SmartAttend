<!-- courses.html -->
{% extends "base.html" %}

{% block content %}

<section id="coursesTab" class="tab-content active">
  <div class="filters">
    <h2>Manage Courses</h2>

    <!-- Filter Dropdowns -->
    <div class="filter-controls">
      <select id="filterDepartment">
        <option value="">All Departments</option>
        <!-- Dynamically populated -->
      </select>

      <select id="filterSemester">
        <option value="">All Semesters</option>
        <!-- Dynamically populated -->
      </select>

      <button onclick="applyCourseFilters()">Filter</button>
      <button id="resetFiltersBtn" type="button">Reset</button>
    </div>

    <!-- Add Course Form -->
    <form id="addCourseForm">
      <input type="text" name="course_code" placeholder="Course Code" required>
      <input type="text" name="course_name" placeholder="Course Name" required>
      <input type="text" name="department" placeholder="Department" required>
      <input type="text" name="semester" placeholder="Semester" required>
      <button type="submit">+ Add Course</button>
    </form>
  </div>

  <div id="courseGrid" class="course-grid"></div>
</section>

<!-- Edit Course Modal -->
<div id="editCourseModal" class="modal" style="display: none;">
  <div class="modal-content">
    <span class="close" onclick="App.closeEditCourseModal()">&times;</span>
    <h2>Edit Course</h2>
    
    <form id="editCourseForm">
      <div class="form-group">
        <label for="editCourseCode">Course Code</label>
        <input type="text" id="editCourseCode" name="course_code" required />
      </div>

      <div class="form-group">
        <label for="editCourseName">Course Name</label>
        <input type="text" id="editCourseName" name="course_name" required />
      </div>

      <div class="form-group">
        <label for="editDepartment">Department</label>
        <input type="text" id="editDepartment" name="department" required />
      </div>

      <div class="form-group">
        <label for="editSemester">Semester</label>
        <input type="text" id="editSemester" name="semester" required />
      </div>

      <input type="hidden" id="editCourseId" name="course_id" />

      <div class="modal-actions">
        <button type="submit" class="btn btn-submit">Update</button>
        <button type="button" class="btn btn-cancel" onclick="App.closeEditCourseModal()">Cancel</button>
      </div>
    </form>
  </div>
</div>

<div id="modalOverlay" class="modal-overlay" style="display: none;"></div>

{% endblock %}

{% block scripts %}
<script type="module" src="{{ url_for('static', filename='js/courses.js') }}"></script>
{% endblock %}